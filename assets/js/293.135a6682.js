(window.webpackJsonp=window.webpackJsonp||[]).push([[293],{609:function(t,s,a){"use strict";a.r(s);var n=a(12),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("è¯»äº† "),a("code",[t._v("os")]),t._v(" æ¨¡å—çš„æ–‡æ¡£ï¼Œç ”ç©¶äº†å‡ ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ğŸ¤” è¯†åˆ«æ“ä½œç³»ç»Ÿå¹³å°")]),t._v(" "),a("li",[t._v("ğŸ¤” ç†è§£å’Œè®¡ç®—â€œå¹³å‡è´Ÿè½½â€")]),t._v(" "),a("li",[t._v("ğŸ¤” ç†è§£å’Œè®¡ç®—â€œcpu ä½¿ç”¨ç‡â€")]),t._v(" "),a("li",[t._v("ğŸ¤” ç†è§£å’Œè®¡ç®—â€œå†…å­˜ä½¿ç”¨ç‡â€")]),t._v(" "),a("li",[t._v("ğŸ¤” æŸ¥çœ‹è¿è¡Œæ—¶é—´")])]),t._v(" "),a("h2",{attrs:{id:"è¯†åˆ«æ“ä½œç³»ç»Ÿå¹³å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯†åˆ«æ“ä½œç³»ç»Ÿå¹³å°"}},[t._v("#")]),t._v(" è¯†åˆ«æ“ä½œç³»ç»Ÿå¹³å°")]),t._v(" "),a("p",[t._v("nodejs æä¾›äº†"),a("code",[t._v("os.platform()")]),t._v("å’Œ"),a("code",[t._v("os.type()")]),t._v("ï¼Œå¯ä»¥ç”¨æ¥è¯†åˆ«æ“ä½œç³»ç»Ÿå¹³å°ã€‚æ¨èä½¿ç”¨: "),a("code",[t._v("os.platform()")])]),t._v(" "),a("h2",{attrs:{id:"ç†è§£å’Œè®¡ç®—-å¹³å‡è´Ÿè½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç†è§£å’Œè®¡ç®—-å¹³å‡è´Ÿè½½"}},[t._v("#")]),t._v(" ç†è§£å’Œè®¡ç®—â€œå¹³å‡è´Ÿè½½â€")]),t._v(" "),a("p",[t._v("å¹³å‡è´Ÿè½½æ˜¯æŒ‡ï¼šå•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿå¤„äºå¯è¿è¡ŒçŠ¶æ€å’Œä¸å¯ä¸­æ–­çŠ¶æ€çš„å¹³å‡è¿›ç¨‹æ•°ã€‚å®ƒå’Œ cpu ä½¿ç”¨ç‡æ²¡æœ‰ç›´æ¥å…³ç³»ã€‚")]),t._v(" "),a("p",[t._v("å…¶ä¸­ï¼Œè¿™é‡Œçš„å¯è¿è¡ŒçŠ¶æ€æŒ‡çš„æ˜¯ï¼šæ­£åœ¨ä½¿ç”¨ cpu æˆ–æ­£åœ¨ç­‰å¾… cpu çš„è¿›ç¨‹ã€‚ä¸å¯ä¸­æ–­çŠ¶æ€æŒ‡çš„æ˜¯ï¼šå†…æ ¸æ€å…³é”®æµç¨‹ä¸­çš„è¿›ç¨‹ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ nodejs ä¸­ï¼Œç›´æ¥è°ƒç”¨"),a("code",[t._v("os.loadavg()")]),t._v("å¯ä»¥è·å¾— 1ã€5 å’Œ 15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ï¼Œå®ƒå’Œ unix å‘½ä»¤"),a("code",[t._v("uptime")]),t._v("è¿”å›å€¼ä¸€æ ·ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ä¸ºä»€ä¹ˆéœ€è¦å…³å¿ƒå¹³å‡è´Ÿè½½è¿™ä¸ªé—®é¢˜å‘¢")]),t._v("ï¼Ÿå› ä¸ºè¿›ç¨‹åˆ†ä¸º 2 ç§ï¼Œç¬¬ä¸€ç§å°±æ˜¯â€œCPU å¯†é›†å‹â€ï¼Œå®ƒçš„ cpu ä½¿ç”¨ç‡å’Œå¹³å‡è´Ÿè½½éƒ½æ˜¯é«˜çš„ï¼›ç¬¬äºŒç§æ˜¯â€œIO å¯†é›†å‹â€ï¼Œå®ƒçš„ cpu ä½¿ç”¨ç‡ä¸ä¸€å®šé«˜ï¼Œä½†æ˜¯ç­‰å¾… IO ä¼šé€ æˆå¹³å‡è´Ÿè½½é«˜ã€‚æ‰€ä»¥ï¼Œcpu ä½¿ç”¨ç‡å’Œå¹³å‡è´Ÿè½½å…±åŒååº”ç³»ç»Ÿæ€§èƒ½ã€‚")]),t._v(" "),a("p",[t._v("å¹³å‡æ´»è·ƒè¿›ç¨‹æ•°æœ€ç†æƒ³çš„çŠ¶æ€æ˜¯ cpu æ•°é‡=å¹³å‡è´Ÿè½½ï¼Œå¦‚æœ cpu æ•°é‡ < å¹³å‡è´Ÿè½½ï¼Œé‚£ä¹ˆå¹³å‡è´Ÿè½½è¿‡é«˜ã€‚")]),t._v(" "),a("div",{staticClass:"language-JavaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦å¹³å‡è´Ÿè½½è¿‡é«˜")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isHighLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cpuNum "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cpus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadavg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" cpuNum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"ç†è§£å’Œè®¡ç®—-cpu-ä½¿ç”¨ç‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç†è§£å’Œè®¡ç®—-cpu-ä½¿ç”¨ç‡"}},[t._v("#")]),t._v(" ç†è§£å’Œè®¡ç®—â€œcpu ä½¿ç”¨ç‡â€")]),t._v(" "),a("p",[t._v("å¾ˆå¤šç›‘æ§è½¯ä»¶éƒ½æä¾›é’ˆå¯¹ cpu ä½¿ç”¨ç‡çš„â€œå®æ—¶â€ç›‘æ§ï¼Œå½“ç„¶è¿™ä¸ªå®æ—¶ä¸æ˜¯çœŸçš„å®æ—¶ï¼Œæœ‰ä¸ªæ—¶é—´å·®ã€‚è¿™ä¸ªåŠŸèƒ½ï¼Œnodejs å¦‚ä½•å®ç°å‘¢ï¼Ÿ")]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬ä¸€æ­¥")]),t._v("ï¼šå°è£…"),a("code",[t._v("getCPUInfo()")]),t._v("ï¼Œè®¡ç®—è·å– cpu èŠ±è´¹çš„æ€»æ—¶é—´ä¸ç©ºé—²æ¨¡å¼èŠ±è´¹çš„æ—¶é—´ã€‚")]),t._v(" "),a("div",{staticClass:"language-JavaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è·å–cpuèŠ±è´¹çš„æ€»æ—¶é—´ä¸ç©ºé—²æ¨¡å¼çš„æ—¶é—´\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCPUInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cpus "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cpus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        nice "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sys "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        idle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        irq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        total "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    cpus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cpu")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" times "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cpu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" times"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        nice "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" times"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        sys "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" times"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sys"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        idle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" times"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        irq "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" times"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("irq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    total "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" user "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" nice "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" sys "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" idle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" irq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        idle\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("p",[a("strong",[t._v("ç¬¬äºŒæ­¥")]),t._v("ï¼šå½“å‰æ—¶é—´ç‚¹ t1ï¼Œé€‰å®šä¸€ä¸ªæ—¶é—´å·® intervelï¼Œè®¡ç®— t1 å’Œ t1 + interval è¿™ä¸¤ä¸ªæ—¶é—´ç‚¹çš„ cpu æ—¶é—´å·®ä¸ç©ºé—²æ¨¡å¼æ—¶é—´å·®ï¼Œè¿”å› "),a("code",[t._v("1 - ç©ºé—²æ—¶é—´å·® / cpuæ—¶é—´å·®")]),t._v("ã€‚è¿”å›çš„ç»“æœå°±æ˜¯æ—¶é—´å·® intervel å†…çš„å¹³å‡ cpu ä½¿ç”¨ç‡ã€‚")]),t._v(" "),a("div",{staticClass:"language-JavaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCPUUsage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("interval "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" startInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCPUInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" endInfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCPUInfo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" idleDiff "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" startInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idle "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" endInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" totalDiff "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" startInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" endInfo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("abs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("idleDiff "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" totalDiff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" interval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-JavaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCPUUsage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("usage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cpuä½¿ç”¨ç‡ï¼š"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" usage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"ç†è§£å’Œè®¡ç®—-å†…å­˜ä½¿ç”¨ç‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç†è§£å’Œè®¡ç®—-å†…å­˜ä½¿ç”¨ç‡"}},[t._v("#")]),t._v(" ç†è§£å’Œè®¡ç®—â€œå†…å­˜ä½¿ç”¨ç‡â€")]),t._v(" "),a("p",[t._v("cpu çš„æŒ‡æ ‡æœ‰å¹³å‡è´Ÿè½½ã€cpu ä½¿ç”¨ç‡ï¼Œå†…å­˜çš„æŒ‡æ ‡æœ‰å†…å­˜ä½¿ç”¨ç‡ã€‚")]),t._v(" "),a("p",[t._v("å€ŸåŠ© nodejs æ¥å£ï¼Œå®ç°éå¸¸ç®€å•ï¼š")]),t._v(" "),a("div",{staticClass:"language-JavaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMemUsage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("freemem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("totalmem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"æŸ¥çœ‹è¿è¡Œæ—¶é—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŸ¥çœ‹è¿è¡Œæ—¶é—´"}},[t._v("#")]),t._v(" æŸ¥çœ‹è¿è¡Œæ—¶é—´")]),t._v(" "),a("ul",[a("li",[t._v("nodejs è¿è¡Œæ—¶é—´ï¼š"),a("code",[t._v("process.uptime()")])]),t._v(" "),a("li",[t._v("ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼š"),a("code",[t._v("os.uptime()")])])]),t._v(" "),a("h2",{attrs:{id:"å‚è€ƒé“¾æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒé“¾æ¥"}},[t._v("#")]),t._v(" å‚è€ƒé“¾æ¥")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://nodejs.cn/api/os.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js os doc"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/os-utils",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç¬¬ä¸‰æ–¹æ‰©å±•åº“ï¼šos-utils"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/heruiguo/articles/10797249.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ€ä¹ˆç†è§£å¹³å‡è´Ÿè½½ï¼ˆä¸€ï¼‰"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/sunflower_della/article/details/90439935",target:"_blank",rel:"noopener noreferrer"}},[t._v("å­—èŠ‚åºï¼ˆå¤§å°ç«¯ï¼‰ç†è§£"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);